<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>reveal-md</title>
    <link rel="stylesheet" href="./css/reveal.css" />
    <link rel="stylesheet" href="./css/theme/black.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/zenburn.css" />
    <link rel="stylesheet" href="./css/print/paper.css" type="text/css" media="print" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section ><section data-markdown><script type="text/template">## 小程序开发实战

项伟平

2018年11月26日

###### [微信小程序官方文档](https://developers.weixin.qq.com/miniprogram/dev/index.html)
</script></section><section data-markdown><script type="text/template">
javascript的三种环境
- Browser
- Node.js
- JS Core
</script></section><section data-markdown><script type="text/template">
#### 问题一 这句JS在小程序、weex、SSR上运行？

```javascript
document.getElementById('app').style.height= '100px'
```
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background-image="https://brandonxiang.github.io/keynote/img/weapp.jpg" data-background-size="contain" -->
</script></section><section data-markdown><script type="text/template">

### 问题二 小程序和pwa区别
</script></section><section data-markdown><script type="text/template">
- PWA是纯网页技术
- 小程序是混合技术
</script></section><section data-markdown><script type="text/template">
##### 运行机制

- 小程序没有重启的概念，但是有冷启动和热启动
- 当小程序进入后台，客户端会维持一段时间的运行状态，超过一定时间后（目前是5分钟）会被微信主动销毁
- 当短时间内（5s）连续收到两次以上收到系统内存告警，会进行小程序的销毁
</script></section><section data-markdown><script type="text/template">
##### 更新机制

- 小程序冷启动时如果发现有新版本，将会异步下载新版本的代码包
- 同时用客户端本地的包进行启动，即新版本的小程序需要等下一次冷启动才会应用上
</script></section><section data-markdown><script type="text/template">
### 问题三 小程序和vue的区别

- 数据绑定（小程序单向绑定）
- 生命周期
</script></section><section data-markdown><script type="text/template">
#### vue生命周期

- beforeCreate
- created
- beforeMount
- mounted
- beforeUpdate
- updated
- beforeDestroy
- destroyed
</script></section><section data-markdown><script type="text/template">
#### 小程序生命周期

- onLoad 页面加载时触发
- onShow 页面显示/切入前台时触发
- onReady 页面初次渲染完成时触发
- onHide 页面隐藏/切入后台时触发
- onUnload 页面卸载时触发

<p style="color: red; font-size: 20px;">你觉得就这样吗？</p>
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background="white" data-background-image="https://brandonxiang.github.io/keynote/img/mina-lifecycle.png" data-background-size="contain" -->
</script></section><section data-markdown><script type="text/template">
#### 小程序的js代码

- 在 iOS 上，是运行在 JavaScriptCore 
- 在 Android 上，是通过 X5 JSCore来解析
- 在 开发工具上，是运行在 nwjs
</script></section><section data-markdown><script type="text/template">
### 问题四 小程序和rn或weex区别
</script></section><section data-markdown><script type="text/template">
- weex是基于DSL映射
- 小程序会映射到原生组件或渲染H5组件
- 小程序存在原生组件和H5组件混用
- 小程序样式布局方便，但是对原生组件无能为力
</script></section><section data-markdown><script type="text/template">
## 原生组件

- camera
- canvas
- input
- live-player
- live-pusher
- map
- textarea
- video
- webview
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background="white" data-background-image="https://brandonxiang.github.io/keynote/img/weapp-native.png" data-background-size="contain" -->
</script></section><section data-markdown><script type="text/template">
## 用户功能

- 获取openid
- 获取unionid
- [获取用户信息，手机号](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html)
- 鉴权
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background="white" data-background-image="https://brandonxiang.github.io/keynote/img/unionid.png" data-background-size="contain" -->


</script></section><section data-markdown><script type="text/template">
#### 问题五 小程序有cookie吗？有跨域问题吗？
</script></section><section data-markdown><script type="text/template">
## 云开发

腾讯云开发，serverless架构

![云开发](https://brandonxiang.github.io/keynote/img/cloud-develop.png)
</script></section><section data-markdown><script type="text/template">
<!-- .slide: data-background="white" data-background-image="https://brandonxiang.github.io/keynote/img/serverless.png" data-background-size="contain" -->
</script></section><section data-markdown><script type="text/template">
<!-- .slide:  data-background-image="https://brandonxiang.github.io/keynote/img/faas.png" data-background-size="contain" -->
</script></section><section data-markdown><script type="text/template">
## 企业微信

小程序账号可以绑定企业微信，但是api有所不同

企业号 | 公众号
---- | ----
企业微信小程序 | 微信小程序
userid | openid
wx.qy.login()| wx.login()</script></section></section></div>
    </div>

    <script src="./js/reveal.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // Optional libraries used to extend on reveal.js
      var deps = [
        { src: './plugin/markdown/marked.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './plugin/markdown/markdown.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
        { src: './plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
        { src: './plugin/zoom-js/zoom.js', async: true },
        { src: './plugin/notes/notes.js', async: true },
        { src: './plugin/math/math.js', async: true }
      ];

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        dependencies: deps
      };

      // options from URL query string
      var queryOptions = Reveal.getQueryHash() || {};

      var options = extend(defaultOptions, {}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
